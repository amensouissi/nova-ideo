# GraphQL API

You can use [graphiql](https://github.com/graphql/graphiql) to explore the API.
graphiql is accessible at [http://localhost:6543/graphiql](http://localhost:6543/graphiql)
The API documentation in accessible by clicking on "Docs" on the top right.
An alternative view is available at
[http://localhost:6543/graphqldocs](http://localhost:6543/graphqldocs)
but you need to build it, see below.

## Basic example:

    {
      ideas {
        edges {
          node { title }
        }
      }
    }

If you have a "Variables are invalid JSON." error, be sure you have {} in the
*Query variables* section.

## Example with pagination:

    query MyQuery ($after: String) {
      allIdeas: ideas(
          first: 30,
          after: $after) {
        pageInfo{
          endCursor,
          hasNextPage,
        },
        edges{
          node{
            title,
            keywords,
          }
        }
      }
    }

    mutation MyMutation{
      createPublishIdea(
        token: "User API token",
        title: "Idea title",
        text: "Idea text")
        #returned value
        {
          idea { 
              title
          }
          status
        }
    }

    mutation MyMutation{
      CreateProposal(
        token: "User API token",
        title: "Idea title",
        text: "Idea text")
        #returned value
        {
          idea { 
              title
          }
          status
        }
    }



Query variables :

    {"after": ""}

## Generate API documentation

API documentation can be generated by [graphql-docs](https://github.com/mhallin/graphql-docs/):

    cd docs
    npm install -D
    npm run build

You can then access to the documentation at: [http://localhost:6543/graphqldocs](http://localhost:6543/graphqldocs)
